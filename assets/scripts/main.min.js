function animationEnd(){var t,e=document.createElement("element"),n={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd"};for(t in n)if(void 0!==e.style[t])return n[t]}function debounce(i,o,r){var s;return function(){var t=this,e=arguments,n=r&&!s;clearTimeout(s),s=setTimeout(function(){s=null,r||i.apply(t,e)},o),n&&i.apply(t,e)}}function detectIE(){var t=window.navigator.userAgent,e=t.indexOf("MSIE ");if(0<e)return parseInt(t.substring(e+5,t.indexOf(".",e)),10);if(0<t.indexOf("Trident/")){var n=t.indexOf("rv:");return parseInt(t.substring(n+3,t.indexOf(".",n)),10)}var i=t.indexOf("Edge/");return 0<i&&parseInt(t.substring(i+5,t.indexOf(".",i)),10)}function transitionEnd(){var t,e=document.createElement("element"),n={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(t in n)if(void 0!==e.style[t])return n[t]}!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("Barba",[],e):"object"==typeof exports?exports.Barba=e():t.Barba=e()}(this,function(){return o={},n.m=i=[function(t,e,n){"function"!=typeof Promise&&(window.Promise=n(1));var i={version:"1.0.0",BaseTransition:n(4),BaseView:n(6),BaseCache:n(8),Dispatcher:n(7),HistoryManager:n(9),Pjax:n(10),Prefetch:n(13),Utils:n(5)};t.exports=i},function(h,t,e){(function(t){function i(){}function r(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],f(t,this)}function o(n,i){for(;3===n._state;)n=n._value;0!==n._state?(n._handled=!0,u(function(){var t,e=1===n._state?i.onFulfilled:i.onRejected;if(null!==e){try{t=e(n._value)}catch(t){return void a(i.promise,t)}s(i.promise,t)}else(1===n._state?s:a)(i.promise,n._value)})):n._deferreds.push(i)}function s(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof r)return e._state=3,e._value=t,void l(e);if("function"==typeof n)return void f((i=n,o=t,function(){i.apply(o,arguments)}),e)}e._state=1,e._value=t,l(e)}catch(t){a(e,t)}var i,o}function a(t,e){t._state=2,t._value=e,l(t)}function l(t){2===t._state&&0===t._deferreds.length&&u(function(){t._handled||d(t._value)});for(var e=0,n=t._deferreds.length;e<n;e++)o(t,t._deferreds[e]);t._deferreds=null}function c(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function f(t,e){var n=!1;try{t(function(t){n||(n=!0,s(e,t))},function(t){n||(n=!0,a(e,t))})}catch(t){if(n)return;n=!0,a(e,t)}}var e,n,u,d;e=this,n=setTimeout,u="function"==typeof t&&t||function(t){n(t,0)},d=function(){},r.prototype.catch=function(t){return this.then(null,t)},r.prototype.then=function(t,e){var n=new this.constructor(i);return o(this,new c(t,e,n)),n},r.all=function(t){var a=Array.prototype.slice.call(t);return new r(function(o,r){if(0===a.length)return o([]);var s=a.length;for(var t=0;t<a.length;t++)!function e(n,t){try{if(t&&("object"==typeof t||"function"==typeof t)){var i=t.then;if("function"==typeof i)return void i.call(t,function(t){e(n,t)},r)}a[n]=t,0==--s&&o(a)}catch(t){r(t)}}(t,a[t])})},r.resolve=function(e){return e&&"object"==typeof e&&e.constructor===r?e:new r(function(t){t(e)})},r.reject=function(n){return new r(function(t,e){e(n)})},r.race=function(o){return new r(function(t,e){for(var n=0,i=o.length;n<i;n++)o[n].then(t,e)})},r._setImmediateFn=function(t){u=t},r._setUnhandledRejectionFn=function(t){d=t},void 0!==h&&h.exports?h.exports=r:e.Promise||(e.Promise=r)}).call(t,e(2).setImmediate)},function(t,l,c){(function(t,e){var i=c(3).nextTick,n=Function.prototype.apply,o=Array.prototype.slice,r={},s=0;function a(t,e){this._id=t,this._clearFn=e}l.setTimeout=function(){return new a(n.call(setTimeout,window,arguments),clearTimeout)},l.setInterval=function(){return new a(n.call(setInterval,window,arguments),clearInterval)},l.clearTimeout=l.clearInterval=function(t){t.close()},a.prototype.unref=a.prototype.ref=function(){},a.prototype.close=function(){this._clearFn.call(window,this._id)},l.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},l.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},l._unrefActive=l.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;0<=e&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},l.setImmediate="function"==typeof t?t:function(t){var e=s++,n=!(arguments.length<2)&&o.call(arguments,1);return r[e]=!0,i(function(){r[e]&&(n?t.apply(null,n):t.call(null),l.clearImmediate(e))}),e},l.clearImmediate="function"==typeof e?e:function(t){delete r[t]}}).call(l,c(2).setImmediate,c(2).clearImmediate)},function(t,e){var i,n,o=t.exports={};!function(){try{i=setTimeout}catch(t){i=function(){throw new Error("setTimeout is not defined")}}try{n=clearTimeout}catch(t){n=function(){throw new Error("clearTimeout is not defined")}}}();var r,s=[],a=!1,l=-1;function c(){a&&r&&(a=!1,r.length?s=r.concat(s):l=-1,s.length&&f())}function f(){if(!a){var t=i(c);a=!0;for(var e=s.length;e;){for(r=s,s=[];++l<e;)r&&r[l].run();l=-1,e=s.length}r=null,a=!1,n(t)}}function u(t,e){this.fun=t,this.array=e}function d(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];s.push(new u(t,e)),1!==s.length||a||i(f,0)},u.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=d,o.addListener=d,o.once=d,o.off=d,o.removeListener=d,o.removeAllListeners=d,o.emit=d,o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e,n){var i=n(5),o={oldContainer:void 0,newContainer:void 0,newContainerLoading:void 0,extend:function(t){return i.extend(this,t)},init:function(t,e){var n=this;return this.oldContainer=t,this._newContainerPromise=e,this.deferred=i.deferred(),this.newContainerReady=i.deferred(),this.newContainerLoading=this.newContainerReady.promise,this.start(),this._newContainerPromise.then(function(t){n.newContainer=t,n.newContainerReady.resolve()}),this.deferred.promise},done:function(){this.oldContainer.parentNode.removeChild(this.oldContainer),this.newContainer.style.visibility="visible",this.deferred.resolve()},start:function(){}};t.exports=o},function(t,e){var n={getCurrentUrl:function(){return window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search},cleanLink:function(t){return t.replace(/#.*/,"")},xhrTimeout:5e3,xhr:function(t){var e=this.deferred(),n=new XMLHttpRequest;return n.onreadystatechange=function(){if(4===n.readyState)return 200===n.status?e.resolve(n.responseText):e.reject(new Error("xhr: HTTP code is not 200"))},n.ontimeout=function(){return e.reject(new Error("xhr: Timeout exceeded"))},n.open("GET",t),n.timeout=this.xhrTimeout,n.setRequestHeader("x-barba","yes"),n.send(),e.promise},extend:function(t,e){var n=Object.create(t);for(var i in e)e.hasOwnProperty(i)&&(n[i]=e[i]);return n},deferred:function(){return new function(){this.resolve=null,this.reject=null,this.promise=new Promise(function(t,e){this.resolve=t,this.reject=e}.bind(this))}},getPort:function(t){var e=void 0!==t?t:window.location.port,n=window.location.protocol;return""!=e?parseInt(e):"http:"===n?80:"https:"===n?443:void 0}};t.exports=n},function(t,e,n){var o=n(7),i=n(5),r={namespace:null,extend:function(t){return i.extend(this,t)},init:function(){var i=this;o.on("initStateChange",function(t,e){e&&e.namespace===i.namespace&&i.onLeave()}),o.on("newPageReady",function(t,e,n){i.container=n,t.namespace===i.namespace&&i.onEnter()}),o.on("transitionCompleted",function(t,e){t.namespace===i.namespace&&i.onEnterCompleted(),e&&e.namespace===i.namespace&&i.onLeaveCompleted()})},onEnter:function(){},onEnterCompleted:function(){},onLeave:function(){},onLeaveCompleted:function(){}};t.exports=r},function(t,e){var n={events:{},on:function(t,e){this.events[t]=this.events[t]||[],this.events[t].push(e)},off:function(t,e){t in this.events!=!1&&this.events[t].splice(this.events[t].indexOf(e),1)},trigger:function(t){if(t in this.events!=!1)for(var e=0;e<this.events[t].length;e++)this.events[t][e].apply(this,Array.prototype.slice.call(arguments,1))}};t.exports=n},function(t,e,n){var i=n(5),o={data:{},extend:function(t){return i.extend(this,t)},set:function(t,e){this.data[t]=e},get:function(t){return this.data[t]},reset:function(){this.data={}}};t.exports=o},function(t,e){var n={history:[],add:function(t,e){e=e||void 0,this.history.push({url:t,namespace:e})},currentStatus:function(){return this.history[this.history.length-1]},prevStatus:function(){var t=this.history;return t.length<2?null:t[t.length-2]}};t.exports=n},function(t,e,n){var o=n(5),r=n(7),i=n(11),s=n(8),a=n(9),l={Dom:n(12),History:a,Cache:s,cacheEnabled:!0,transitionProgress:!1,ignoreClassLink:"no-barba",start:function(){this.init()},init:function(){var t=this.Dom.getContainer();this.Dom.getWrapper().setAttribute("aria-live","polite"),this.History.add(this.getCurrentUrl(),this.Dom.getNamespace(t)),r.trigger("initStateChange",this.History.currentStatus()),r.trigger("newPageReady",this.History.currentStatus(),{},t,this.Dom.currentHTML),r.trigger("transitionCompleted",this.History.currentStatus()),this.bindEvents()},bindEvents:function(){document.addEventListener("click",this.onLinkClick.bind(this)),window.addEventListener("popstate",this.onStateChange.bind(this))},getCurrentUrl:function(){return o.cleanLink(o.getCurrentUrl())},goTo:function(t){window.history.pushState(null,null,t),this.onStateChange()},forceGoTo:function(t){window.location=t},load:function(t){var n=o.deferred(),i=this,e=this.Cache.get(t);return e||(e=o.xhr(t),this.Cache.set(t,e)),e.then(function(t){var e=i.Dom.parseResponse(t);i.Dom.putContainer(e),i.cacheEnabled||i.Cache.reset(),n.resolve(e)},function(){i.forceGoTo(t),n.reject()}),n.promise},getHref:function(t){if(t)return t.getAttribute&&"string"==typeof t.getAttribute("xlink:href")?t.getAttribute("xlink:href"):"string"==typeof t.href?t.href:void 0},onLinkClick:function(t){for(var e,n=t.target;n&&!this.getHref(n);)n=n.parentNode;this.preventCheck(t,n)&&(t.stopPropagation(),t.preventDefault(),r.trigger("linkClicked",n,t),e=this.getHref(n),this.goTo(e))},preventCheck:function(t,e){if(!window.history.pushState)return!1;var n=this.getHref(e);return!(!e||!n)&&(!(1<t.which||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey)&&((!e.target||"_blank"!==e.target)&&(window.location.protocol===e.protocol&&window.location.hostname===e.hostname&&(o.getPort()===o.getPort(e.port)&&(!(-1<n.indexOf("#"))&&((!e.getAttribute||"string"!=typeof e.getAttribute("download"))&&(o.cleanLink(n)!=o.cleanLink(location.href)&&!e.classList.contains(this.ignoreClassLink))))))))},getTransition:function(){return i},onStateChange:function(){var t=this.getCurrentUrl();if(this.transitionProgress&&this.forceGoTo(t),this.History.currentStatus().url===t)return!1;this.History.add(t);var e=this.load(t),n=Object.create(this.getTransition());this.transitionProgress=!0,r.trigger("initStateChange",this.History.currentStatus(),this.History.prevStatus());var i=n.init(this.Dom.getContainer(),e);e.then(this.onNewContainerLoaded.bind(this)),i.then(this.onTransitionEnd.bind(this))},onNewContainerLoaded:function(t){this.History.currentStatus().namespace=this.Dom.getNamespace(t),r.trigger("newPageReady",this.History.currentStatus(),this.History.prevStatus(),t,this.Dom.currentHTML)},onTransitionEnd:function(){this.transitionProgress=!1,r.trigger("transitionCompleted",this.History.currentStatus(),this.History.prevStatus())}};t.exports=l},function(t,e,n){var i=n(4).extend({start:function(){this.newContainerLoading.then(this.finish.bind(this))},finish:function(){document.body.scrollTop=0,this.done()}});t.exports=i},function(t,e){var n={dataNamespace:"namespace",wrapperId:"barba-wrapper",containerClass:"barba-container",currentHTML:document.documentElement.innerHTML,parseResponse:function(t){this.currentHTML=t;var e=document.createElement("div");e.innerHTML=t;var n=e.querySelector("title");return n&&(document.title=n.textContent),this.getContainer(e)},getWrapper:function(){var t=document.getElementById(this.wrapperId);if(!t)throw new Error("Barba.js: wrapper not found!");return t},getContainer:function(t){if(!(t=t||document.body))throw new Error("Barba.js: DOM not ready!");var e=this.parseContainer(t);if(e&&e.jquery&&(e=e[0]),!e)throw new Error("Barba.js: no container found");return e},getNamespace:function(t){return t&&t.dataset?t.dataset[this.dataNamespace]:t?t.getAttribute("data-"+this.dataNamespace):null},putContainer:function(t){t.style.visibility="hidden",this.getWrapper().appendChild(t)},parseContainer:function(t){return t.querySelector("."+this.containerClass)}};t.exports=n},function(t,e,n){var o=n(5),r=n(10),i={ignoreClassLink:"no-barba-prefetch",init:function(){if(!window.history.pushState)return!1;document.body.addEventListener("mouseover",this.onLinkEnter.bind(this)),document.body.addEventListener("touchstart",this.onLinkEnter.bind(this))},onLinkEnter:function(t){for(var e,n,i=t.target;i&&!r.getHref(i);)i=i.parentNode;i&&!i.classList.contains(this.ignoreClassLink)&&(e=r.getHref(i),r.preventCheck(t,i)&&!r.Cache.get(e)&&(n=o.xhr(e),r.Cache.set(e,n)))}};t.exports=i}],n.c=o,n.p="http://localhost:8080/dist",n(0);function n(t){if(o[t])return o[t].exports;var e=o[t]={exports:{},id:t,loaded:!1};return i[t].call(e.exports,e,e.exports,n),e.loaded=!0,e.exports}var i,o}),function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.inView=e():t.inView=e()}(this,function(){return o={},n.m=i=[function(t,e,n){"use strict";var i,o=n(2),r=(i=o)&&i.__esModule?i:{default:i};t.exports=r.default},function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(n(9)),r=i(n(3)),s=n(4);e.default=function(){if("undefined"!=typeof window){var n={history:[]},i={offset:{},threshold:0,test:s.inViewport},e=(0,o.default)(function(){n.history.forEach(function(t){n[t].check()})},100);["scroll","resize","load"].forEach(function(t){return addEventListener(t,e)}),window.MutationObserver&&addEventListener("DOMContentLoaded",function(){new MutationObserver(e).observe(document.body,{attributes:!0,childList:!0,subtree:!0})});var t=function(t){if("string"==typeof t){var e=[].slice.call(document.querySelectorAll(t));return-1<n.history.indexOf(t)?n[t].elements=e:(n[t]=(0,r.default)(e,i),n.history.push(t)),n[t]}};return t.offset=function(e){if(void 0===e)return i.offset;function n(t){return"number"==typeof t}return["top","right","bottom","left"].forEach(n(e)?function(t){return i.offset[t]=e}:function(t){return n(e[t])?i.offset[t]=e[t]:null}),i.offset},t.threshold=function(t){return"number"==typeof t&&0<=t&&t<=1?i.threshold=t:i.threshold},t.test=function(t){return"function"==typeof t?i.test=t:i.test},t.is=function(t){return i.test(t,i)},t.offset(0),t}}()},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=(function(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}(i,[{key:"check",value:function(){var r=this;return this.elements.forEach(function(t){var e=r.options.test(t,r.options),n=r.current.indexOf(t),i=-1<n,o=!e&&i;e&&!i&&(r.current.push(t),r.emit("enter",t)),o&&(r.current.splice(n,1),r.emit("exit",t))}),this}},{key:"on",value:function(t,e){return this.handlers[t].push(e),this}},{key:"once",value:function(t,e){return this.singles[t].unshift(e),this}},{key:"emit",value:function(t,e){for(;this.singles[t].length;)this.singles[t].pop()(e);for(var n=this.handlers[t].length;-1<--n;)this.handlers[t][n](e);return this}}]),i);function i(t,e){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,i),this.options=e,this.elements=t,this.current=[],this.handlers={enter:[],exit:[]},this.singles={enter:[],exit:[]}}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}e.default=function(t,e){return new n(t,e)}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.inViewport=function(t,e){var n=t.getBoundingClientRect(),i=n.top,o=n.right,r=n.bottom,s=n.left,a=n.width,l=n.height,c=window.innerWidth-s,f=window.innerHeight-i,u=e.threshold*a,d=e.threshold*l;return r>e.offset.top+d&&c>e.offset.right+u&&f>e.offset.bottom+d&&o>e.offset.left+u}},function(n,t){(function(t){var e="object"==typeof t&&t&&t.Object===Object&&t;n.exports=e}).call(t,function(){return this}())},function(t,e,n){var i=n(5),o="object"==typeof self&&self&&self.Object===Object&&self,r=i||o||Function("return this")();t.exports=r},function(t,e,n){var w=n(1),b=n(8),y=n(10),T=Math.max,_=Math.min;t.exports=function(i,o,t){function r(t){var e=c,n=f;return c=f=void 0,m=t,d=i.apply(n,e)}function s(t){var e=t-p;return void 0===p||o<=e||e<0||v&&u<=t-m}function a(){var t,e,n=b();return s(n)?l(n):void(h=setTimeout(a,(e=o-((t=n)-p),v?_(e,u-(t-m)):e)))}function l(t){return h=void 0,n&&c?r(t):(c=f=void 0,d)}function e(){var t,e=b(),n=s(e);if(c=arguments,f=this,p=e,n){if(void 0===h)return m=t=p,h=setTimeout(a,o),g?r(t):d;if(v)return h=setTimeout(a,o),r(p)}return void 0===h&&(h=setTimeout(a,o)),d}var c,f,u,d,h,p,m=0,g=!1,v=!1,n=!0;if("function"!=typeof i)throw new TypeError("Expected a function");return o=y(o)||0,w(t)&&(g=!!t.leading,u=(v="maxWait"in t)?T(y(t.maxWait)||0,o):u,n="trailing"in t?!!t.trailing:n),e.cancel=function(){void 0!==h&&clearTimeout(h),c=p=f=h=void(m=0)},e.flush=function(){return void 0===h?d:l(b())},e}},function(t,e,n){var i=n(6);t.exports=function(){return i.Date.now()}},function(t,e,n){var r=n(7),s=n(1);t.exports=function(t,e,n){var i=!0,o=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return s(n)&&(i="leading"in n?!!n.leading:i,o="trailing"in n?!!n.trailing:o),r(t,e,{leading:i,maxWait:e,trailing:o})}},function(t,e){t.exports=function(t){return t}}],n.c=o,n.p="",n(0);function n(t){if(o[t])return o[t].exports;var e=o[t]={exports:{},id:t,loaded:!1};return i[t].call(e.exports,e,e.exports,n),e.loaded=!0,e.exports}var i,o}),function(g,o,t,v){function i(t,e){this.element=t,this.options=g.extend({},n,e),this._defaults=n,this._name=r,this.init()}var r="stellar",n={scrollProperty:"scroll",positionProperty:"position",horizontalScrolling:!0,verticalScrolling:!0,horizontalOffset:0,verticalOffset:0,responsive:!1,parallaxBackgrounds:!0,parallaxElements:!0,hideDistantElements:!0,hideElement:function(t){t.hide()},showElement:function(t){t.show()}},a={scroll:{getLeft:function(t){return t.scrollLeft()},setLeft:function(t,e){t.scrollLeft(e)},getTop:function(t){return t.scrollTop()},setTop:function(t,e){t.scrollTop(e)}},position:{getLeft:function(t){return-1*parseInt(t.css("left"),10)},getTop:function(t){return-1*parseInt(t.css("top"),10)}},margin:{getLeft:function(t){return-1*parseInt(t.css("margin-left"),10)},getTop:function(t){return-1*parseInt(t.css("margin-top"),10)}},transform:{getLeft:function(t){var e=getComputedStyle(t[0])[s];return"none"!==e?-1*parseInt(e.match(/(-?[0-9]+)/g)[4],10):0},getTop:function(t){var e=getComputedStyle(t[0])[s];return"none"!==e?-1*parseInt(e.match(/(-?[0-9]+)/g)[5],10):0}}},l={position:{setLeft:function(t,e){t.css("left",e)},setTop:function(t,e){t.css("top",e)}},transform:{setPosition:function(t,e,n,i,o){t[0].style[s]="translate3d("+(e-n)+"px, "+(i-o)+"px, 0)"}}},s=function(){var t,e=/^(Moz|Webkit|Khtml|O|ms|Icab)(?=[A-Z])/,n=g("script")[0].style,i="";for(t in n)if(e.test(t)){i=t.match(e)[0];break}return"WebkitOpacity"in n&&(i="Webkit"),"KhtmlOpacity"in n&&(i="Khtml"),function(t){return i+(0<i.length?t.charAt(0).toUpperCase()+t.slice(1):t)}}()("transform"),e=g("<div />",{style:"background:#fff"}).css("background-position-x")!==v,w=e?function(t,e,n){t.css({"background-position-x":e,"background-position-y":n})}:function(t,e,n){t.css("background-position",e+" "+n)},b=e?function(t){return[t.css("background-position-x"),t.css("background-position-y")]}:function(t){return t.css("background-position").split(" ")},c=o.requestAnimationFrame||o.webkitRequestAnimationFrame||o.mozRequestAnimationFrame||o.oRequestAnimationFrame||o.msRequestAnimationFrame||function(t){setTimeout(t,1e3/60)};i.prototype={init:function(){this.options.name=r+"_"+Math.floor(1e9*Math.random()),this._defineElements(),this._defineGetters(),this._defineSetters(),this._handleWindowLoadAndResize(),this._detectViewport(),this.refresh({firstLoad:!0}),"scroll"===this.options.scrollProperty?this._handleScrollEvent():this._startAnimationLoop()},_defineElements:function(){this.element===t.body&&(this.element=o),this.$scrollElement=g(this.element),this.$element=this.element===o?g("body"):this.$scrollElement,this.$viewportElement=this.options.viewportElement!==v?g(this.options.viewportElement):this.$scrollElement[0]===o||"scroll"===this.options.scrollProperty?this.$scrollElement:this.$scrollElement.parent()},_defineGetters:function(){var t=this,e=a[t.options.scrollProperty];this._getScrollLeft=function(){return e.getLeft(t.$scrollElement)},this._getScrollTop=function(){return e.getTop(t.$scrollElement)}},_defineSetters:function(){var r=this,t=a[r.options.scrollProperty],s=l[r.options.positionProperty],e=t.setLeft,n=t.setTop;this._setScrollLeft="function"==typeof e?function(t){e(r.$scrollElement,t)}:g.noop,this._setScrollTop="function"==typeof n?function(t){n(r.$scrollElement,t)}:g.noop,this._setPosition=s.setPosition||function(t,e,n,i,o){r.options.horizontalScrolling&&s.setLeft(t,e,n),r.options.verticalScrolling&&s.setTop(t,i,o)}},_handleWindowLoadAndResize:function(){var t=this,e=g(o);t.options.responsive&&e.bind("load."+this.name,function(){t.refresh()}),e.bind("resize."+this.name,function(){t._detectViewport(),t.options.responsive&&t.refresh()})},refresh:function(t){var n=this,e=n._getScrollLeft(),i=n._getScrollTop();t&&t.firstLoad||this._reset(),this._setScrollLeft(0),this._setScrollTop(0),this._setOffsets(),this._findParticles(),this._findBackgrounds(),t&&t.firstLoad&&/WebKit/.test(navigator.userAgent)&&g(o).load(function(){var t=n._getScrollLeft(),e=n._getScrollTop();n._setScrollLeft(t+1),n._setScrollTop(e+1),n._setScrollLeft(t),n._setScrollTop(e)}),this._setScrollLeft(e),this._setScrollTop(i)},_detectViewport:function(){var t=this.$viewportElement.offset(),e=null!==t&&t!==v;this.viewportWidth=this.$viewportElement.width(),this.viewportHeight=this.$viewportElement.height(),this.viewportOffsetTop=e?t.top:0,this.viewportOffsetLeft=e?t.left:0},_findParticles:function(){var p=this;if(this._getScrollLeft(),this._getScrollTop(),this.particles!==v)for(var t=this.particles.length-1;0<=t;t--)this.particles[t].$element.data("stellar-elementIsActive",v);this.particles=[],this.options.parallaxElements&&this.$element.find("[data-stellar-ratio]").each(function(){var t,e,n,i,o,r,s,a,l,c=g(this),f=0,u=0,d=0,h=0;if(c.data("stellar-elementIsActive")){if(c.data("stellar-elementIsActive")!==this)return}else c.data("stellar-elementIsActive",this);p.options.showElement(c),c.data("stellar-startingLeft")?(c.css("left",c.data("stellar-startingLeft")),c.css("top",c.data("stellar-startingTop"))):(c.data("stellar-startingLeft",c.css("left")),c.data("stellar-startingTop",c.css("top"))),n=c.position().left,i=c.position().top,o="auto"===c.css("margin-left")?0:parseInt(c.css("margin-left"),10),r="auto"===c.css("margin-top")?0:parseInt(c.css("margin-top"),10),a=c.offset().left-o,l=c.offset().top-r,c.parents().each(function(){var t=g(this);return!0===t.data("stellar-offset-parent")?(f=d,u=h,s=t,!1):(d+=t.position().left,void(h+=t.position().top))}),t=c.data("stellar-horizontal-offset")!==v?c.data("stellar-horizontal-offset"):s!==v&&s.data("stellar-horizontal-offset")!==v?s.data("stellar-horizontal-offset"):p.horizontalOffset,e=c.data("stellar-vertical-offset")!==v?c.data("stellar-vertical-offset"):s!==v&&s.data("stellar-vertical-offset")!==v?s.data("stellar-vertical-offset"):p.verticalOffset,p.particles.push({$element:c,$offsetParent:s,isFixed:"fixed"===c.css("position"),horizontalOffset:t,verticalOffset:e,startingPositionLeft:n,startingPositionTop:i,startingOffsetLeft:a,startingOffsetTop:l,parentOffsetLeft:f,parentOffsetTop:u,stellarRatio:c.data("stellar-ratio")!==v?c.data("stellar-ratio"):1,width:c.outerWidth(!0),height:c.outerHeight(!0),isHidden:!1})})},_findBackgrounds:function(){var t,h=this,p=this._getScrollLeft(),m=this._getScrollTop();this.backgrounds=[],this.options.parallaxBackgrounds&&(t=this.$element.find("[data-stellar-background-ratio]"),this.$element.data("stellar-background-ratio")&&(t=t.add(this.$element)),t.each(function(){var t,e,n,i,o,r,s,a=g(this),l=b(a),c=0,f=0,u=0,d=0;if(a.data("stellar-backgroundIsActive")){if(a.data("stellar-backgroundIsActive")!==this)return}else a.data("stellar-backgroundIsActive",this);a.data("stellar-backgroundStartingLeft")?w(a,a.data("stellar-backgroundStartingLeft"),a.data("stellar-backgroundStartingTop")):(a.data("stellar-backgroundStartingLeft",l[0]),a.data("stellar-backgroundStartingTop",l[1])),n="auto"===a.css("margin-left")?0:parseInt(a.css("margin-left"),10),i="auto"===a.css("margin-top")?0:parseInt(a.css("margin-top"),10),o=a.offset().left-n-p,r=a.offset().top-i-m,a.parents().each(function(){var t=g(this);return!0===t.data("stellar-offset-parent")?(c=u,f=d,s=t,!1):(u+=t.position().left,void(d+=t.position().top))}),t=a.data("stellar-horizontal-offset")!==v?a.data("stellar-horizontal-offset"):s!==v&&s.data("stellar-horizontal-offset")!==v?s.data("stellar-horizontal-offset"):h.horizontalOffset,e=a.data("stellar-vertical-offset")!==v?a.data("stellar-vertical-offset"):s!==v&&s.data("stellar-vertical-offset")!==v?s.data("stellar-vertical-offset"):h.verticalOffset,h.backgrounds.push({$element:a,$offsetParent:s,isFixed:"fixed"===a.css("background-attachment"),horizontalOffset:t,verticalOffset:e,startingValueLeft:l[0],startingValueTop:l[1],startingBackgroundPositionLeft:isNaN(parseInt(l[0],10))?0:parseInt(l[0],10),startingBackgroundPositionTop:isNaN(parseInt(l[1],10))?0:parseInt(l[1],10),startingPositionLeft:a.position().left,startingPositionTop:a.position().top,startingOffsetLeft:o,startingOffsetTop:r,parentOffsetLeft:c,parentOffsetTop:f,stellarRatio:a.data("stellar-background-ratio")===v?1:a.data("stellar-background-ratio")})}))},_reset:function(){for(var t,e,n,i,o=this.particles.length-1;0<=o;o--)e=(t=this.particles[o]).$element.data("stellar-startingLeft"),n=t.$element.data("stellar-startingTop"),this._setPosition(t.$element,e,e,n,n),this.options.showElement(t.$element),t.$element.data("stellar-startingLeft",null).data("stellar-elementIsActive",null).data("stellar-backgroundIsActive",null);for(o=this.backgrounds.length-1;0<=o;o--)(i=this.backgrounds[o]).$element.data("stellar-backgroundStartingLeft",null).data("stellar-backgroundStartingTop",null),w(i.$element,i.startingValueLeft,i.startingValueTop)},destroy:function(){this._reset(),this.$scrollElement.unbind("resize."+this.name).unbind("scroll."+this.name),this._animationLoop=g.noop,g(o).unbind("load."+this.name).unbind("resize."+this.name)},_setOffsets:function(){var t=this,e=g(o);e.unbind("resize.horizontal-"+this.name).unbind("resize.vertical-"+this.name),"function"==typeof this.options.horizontalOffset?(this.horizontalOffset=this.options.horizontalOffset(),e.bind("resize.horizontal-"+this.name,function(){t.horizontalOffset=t.options.horizontalOffset()})):this.horizontalOffset=this.options.horizontalOffset,"function"==typeof this.options.verticalOffset?(this.verticalOffset=this.options.verticalOffset(),e.bind("resize.vertical-"+this.name,function(){t.verticalOffset=t.options.verticalOffset()})):this.verticalOffset=this.options.verticalOffset},_repositionElements:function(){var t,e,n,i,o,r,s,a,l,c,f=this._getScrollLeft(),u=this._getScrollTop(),d=!0,h=!0;if(this.currentScrollLeft!==f||this.currentScrollTop!==u||this.currentWidth!==this.viewportWidth||this.currentHeight!==this.viewportHeight){for(this.currentScrollLeft=f,this.currentScrollTop=u,this.currentWidth=this.viewportWidth,this.currentHeight=this.viewportHeight,c=this.particles.length-1;0<=c;c--)e=(t=this.particles[c]).isFixed?1:0,a=this.options.horizontalScrolling?(r=(f+t.horizontalOffset+this.viewportOffsetLeft+t.startingPositionLeft-t.startingOffsetLeft+t.parentOffsetLeft)*-(t.stellarRatio+e-1)+t.startingPositionLeft)-t.startingPositionLeft+t.startingOffsetLeft:(r=t.startingPositionLeft,t.startingOffsetLeft),l=this.options.verticalScrolling?(s=(u+t.verticalOffset+this.viewportOffsetTop+t.startingPositionTop-t.startingOffsetTop+t.parentOffsetTop)*-(t.stellarRatio+e-1)+t.startingPositionTop)-t.startingPositionTop+t.startingOffsetTop:(s=t.startingPositionTop,t.startingOffsetTop),this.options.hideDistantElements&&(h=!this.options.horizontalScrolling||a+t.width>(t.isFixed?0:f)&&a<(t.isFixed?0:f)+this.viewportWidth+this.viewportOffsetLeft,d=!this.options.verticalScrolling||l+t.height>(t.isFixed?0:u)&&l<(t.isFixed?0:u)+this.viewportHeight+this.viewportOffsetTop),h&&d?(t.isHidden&&(this.options.showElement(t.$element),t.isHidden=!1),this._setPosition(t.$element,r,t.startingPositionLeft,s,t.startingPositionTop)):t.isHidden||(this.options.hideElement(t.$element),t.isHidden=!0);for(c=this.backgrounds.length-1;0<=c;c--)e=(n=this.backgrounds[c]).isFixed?0:1,i=this.options.horizontalScrolling?(f+n.horizontalOffset-this.viewportOffsetLeft-n.startingOffsetLeft+n.parentOffsetLeft-n.startingBackgroundPositionLeft)*(e-n.stellarRatio)+"px":n.startingValueLeft,o=this.options.verticalScrolling?(u+n.verticalOffset-this.viewportOffsetTop-n.startingOffsetTop+n.parentOffsetTop-n.startingBackgroundPositionTop)*(e-n.stellarRatio)+"px":n.startingValueTop,w(n.$element,i,o)}},_handleScrollEvent:function(){function t(){n._repositionElements(),i=!1}function e(){i||(c(t),i=!0)}var n=this,i=!1;this.$scrollElement.bind("scroll."+this.name,e),e()},_startAnimationLoop:function(){var t=this;this._animationLoop=function(){c(t._animationLoop),t._repositionElements()},this._animationLoop()}},g.fn[r]=function(e){var n=arguments;return e===v||"object"==typeof e?this.each(function(){g.data(this,"plugin_"+r)||g.data(this,"plugin_"+r,new i(this,e))}):"string"==typeof e&&"_"!==e[0]&&"init"!==e?this.each(function(){var t=g.data(this,"plugin_"+r);t instanceof i&&"function"==typeof t[e]&&t[e].apply(t,Array.prototype.slice.call(n,1)),"destroy"===e&&g.data(this,"plugin_"+r,null)}):void 0},g[r]=function(){var t=g(o);return t.stellar.apply(t,Array.prototype.slice.call(arguments,0))},g[r].scrollProperty=a,g[r].positionProperty=l,o.Stellar=i}(jQuery,this,document),function(){for(var r=0,t=["ms","moz","webkit","o"],e=0;e<t.length&&!window.requestAnimationFrame;++e)window.requestAnimationFrame=window[t[e]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[e]+"CancelAnimationFrame"]||window[t[e]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t,e){var n=(new Date).getTime(),i=Math.max(0,16-(n-r)),o=window.setTimeout(function(){t(n+i)},i);return r=n+i,o}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}();var global=new function(){this.$body=document.getElementsByTagName("body"),this.$html=document.getElementsByTagName("html"),this.animationEnd=animationEnd(),this.transitionEnd=transitionEnd()},site=new function(){this.url=""},paths=new function(){this.assets=site.url+"",this.images=this.assets+"/images/compressed",this.scripts=this.assets+"/scripts",this.styles=this.assets+"/styles",this.svgs=this.assets+"/svgs/compressed",this.videos=this.assets+"/videos"};!function(t,e,n){var i=n.createElement("div");function o(){return parseInt(e.getComputedStyle(i).getPropertyValue("z-index"),10)}i.className="js-media-query",n.body.appendChild(i),t.value=o(),e.addEventListener("resize",function(){t.value=o()})}(window.MediaQuery=window.MediaQuery||{},window,document),function(t){var e;t.onbeforeunload=function(){t.scrollTo(0,0)},global.$html[0].classList.remove("is-dom-loading"),t.addEventListener("resize",function(){global.$html[0].classList.add("is-disable-animations"),clearTimeout(e),e=setTimeout(function(){global.$html[0].classList.remove("is-disable-animations")},400)}),$(t).load(function(){Nav.init(),NavTrigger.init(),Jumbotron.init(),inView(".js-in-view").on("enter",function(t){$(t).addClass("is-in-view")}).on("exit",function(t){}),inView.offset(100),$.stellar({horizontalScrolling:!1,positionProperty:"transform",responsive:!0}),$(".barba-container").addClass("is-enter")})}((window.Main=window.Main||{},window),document);var Jumbotron=function(){function t(t){this.$jumbotron=$(t),this.$jumbotronHeading=this.$jumbotron.find(".c-jumbotron__heading"),this.$jumbotronHeadingText=this.$jumbotronHeading.find(".c-jumbotron__heading-text"),this.jumbotronHeadingHeight=0,this.jumbotronHeadingWidth=0,this.scale=0,this._setup()}t.prototype={_setup:function(){this._addEventListeners()},_addEventListeners:function(){var t=this;$(window).on("resize",function(){t.jumbotronHeadingHeight=t.$jumbotronHeading.outerHeight(),t.jumbotronHeadingWidth=t.$jumbotronHeading.outerWidth(),t._resizeText()}).resize()},_resizeText:function(){var t=this;2<=MediaQuery.value?t.scale=Math.min(t.jumbotronHeadingWidth/1600,t.jumbotronHeadingHeight/250):t.scale=Math.min(t.jumbotronHeadingWidth/850,t.jumbotronHeadingHeight/425),t.$jumbotronHeadingText.css({transform:"scale("+t.scale+")"})}};return{init:function(){$(".c-jumbotron").each(function(){$.data(this,"Jumbotron")||$.data(this,"Jumbotron",new t(this))})}}}(),NavTrigger=function(){var t,e,n,i,o=function(){isAnimating=!0,e.setAttribute("aria-expanded",!1),t.hidden=!0,global.$body[0].classList.remove("is-nav-open"),$(".c-nav").one(global.transitionEnd,function(){isAnimating=!1})},r=function(){isAnimating=!0,i=JSON.parse(e.getAttribute("aria-expanded")),e.setAttribute("aria-expanded",!i),t.hidden=!t.hidden,i?global.$body[0].classList.remove("is-nav-open"):global.$body[0].classList.add("is-nav-open"),$(".c-nav").one(global.transitionEnd,function(){isAnimating=!1})};return{init:function(){t=document.querySelector(".c-nav"),e=document.querySelector(".js-nav-trigger"),n=document.querySelector(".svg-icon-menu__icon"),$navTriggerLabel=document.querySelector(".svg-icon-menu__label"),e.addEventListener("click",function(){r()}),window.addEventListener("resize",function(){o(),isAnimating=!1}),window.addEventListener("scroll",function(){n.style.transform="rotate("+window.pageYOffset/6+"deg)",$navTriggerLabel.style.transform="rotate("+window.pageYOffset/-6+"deg)"})},close:o,open:function(){isAnimating=!0,e.setAttribute("aria-expanded",!0),t.hidden=!1,global.$body[0].classList.add("is-nav-open"),$(".c-nav").one(global.transitionEnd,function(){isAnimating=!1})}}}(),Nav=function(){var e=!1;return{init:function(){Barba.Pjax.start();var t=Barba.BaseTransition.extend({start:function(){var t;$.stellar("destroy"),$(document).height()>$(window).height()&&(t=$("html").scrollTop()?$("html").scrollTop():$("body").scrollTop(),$("html").addClass("is-no-scroll").css("top",-t)),this.newContainerLoading.then(this.finish.bind(this))},finish:function(){var t=this,e=$(this.newContainer),n=$(this.oldContainer);e.addClass("is-entering"),n.addClass("is-exiting"),setTimeout(function(){Jumbotron.init(),$.stellar({horizontalScrolling:!1,positionProperty:"transform",responsive:!0}),inView(".js-in-view").on("enter",function(t){$(t).addClass("is-in-view")}).on("exit",function(t){}),inView.offset(100),n.one(global.transitionEnd,function(){$("html, body").scrollTop(0),$("html").removeClass("is-no-scroll"),e.removeClass("is-entering"),$("body").removeClass("is-exiting"),e.addClass("is-enter"),t.done()})},500)}});Barba.Pjax.getTransition=function(){return t},Barba.Dispatcher.on("linkClicked",function(t){e=t,$("body").addClass("is-exiting"),NavTrigger.close()}),Barba.Dispatcher.on("initStateChange",function(){e||(window.location.href=Barba.HistoryManager.history[Barba.HistoryManager.history.length-1].url)}),Barba.Dispatcher.on("newPageReady",function(t,e,n,i){var o=$(i).filter("#barba-wrapper").attr("class");$("#barba-wrapper").attr("class",o)}),Barba.Dispatcher.on("transitionCompleted",function(){e=!1,$("body").stellar({hideDistantElements:!1,horizontalScrolling:!1,positionProperty:"transform",responsive:!0})}),$("body").on("click","a.no-barba",function(t){t.preventDefault();var e=$(this).attr("href");setTimeout(function(){window.location=e},1e3)})}}}();
//# sourceMappingURL=main.min.js.map
